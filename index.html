<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UniGuide ‚Äî Lobachevsky University</title>

  <style>
    :root{
      --blue:#1e40af;
      --blue2:#2563eb;
      --bg:#f6f9ff;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --chip:#eff6ff;
      --shadow:0 12px 30px rgba(2,6,23,.10);
      --radius:18px;

      --ok:#16a34a;
      --warn:#f59e0b;
      --bad:#ef4444;
    }

    /* Dark mode overrides */
    body.dark{
      --bg:#0b1220;
      --card:#0f172a;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --line:#1f2a44;
      --chip:#101b33;
      --shadow:0 18px 42px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--text);
      transition:.2s;
    }
    a{color:inherit}
    .wrap{max-width:1180px;margin:0 auto;padding:18px}

    header{
      position:sticky;top:0;z-index:50;
      background:color-mix(in srgb, var(--bg) 82%, transparent);
      backdrop-filter:blur(10px);
      border-bottom:1px solid var(--line);
    }
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:12px}
    .uLogo{
      width:44px;height:44px;border-radius:14px;
      box-shadow:var(--shadow);
      overflow:hidden;border:1px solid var(--line);
      background:var(--card);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .brand h1{margin:0;font-size:16px;color:var(--blue);font-weight:950;letter-spacing:.2px}
    body.dark .brand h1{color:color-mix(in srgb, var(--blue2) 75%, white)}
    .brand small{display:block;margin-top:3px;color:var(--muted);font-weight:750}

    .account{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .avatar{width:42px;height:42px;border-radius:999px;border:2px solid var(--chip);overflow:hidden;background:var(--card)}
    .accText{font-size:13px;font-weight:800;color:var(--muted);line-height:1.25}
    .accText b{color:var(--text)}

    .pill{
      padding:8px 10px;border-radius:999px;border:1px solid var(--line);
      background:var(--chip);color:var(--blue);font-weight:950;font-size:12px;
    }
    .controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    select, .input{
      padding:9px 10px;border-radius:12px;border:1px solid var(--line);
      background:var(--card);color:var(--text);
      font-weight:850;outline:none
    }
    .iconBtn{
      border:1px solid var(--line);
      background:var(--card);
      padding:9px 10px;border-radius:12px;
      font-weight:950;cursor:pointer;
      box-shadow:0 6px 16px rgba(2,6,23,.06);
      display:inline-flex;align-items:center;gap:8px;
    }
    body.dark .iconBtn{box-shadow:none}
    .iconBtn:active{transform:translateY(1px)}

    .nav{
      display:flex;gap:10px;flex-wrap:wrap;
      padding:10px 0 0;
    }
    .nav a{
      text-decoration:none;
      font-weight:950;font-size:12px;
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:var(--card);
      color:var(--muted);
    }
    .nav a.active{
      background:linear-gradient(135deg, color-mix(in srgb, var(--blue) 14%, var(--card)), var(--card));
      color:var(--text);
      border-color:color-mix(in srgb, var(--blue) 35%, var(--line));
    }

    .hero{
      margin-top:16px;border:1px solid var(--line);border-radius:var(--radius);
      background:linear-gradient(135deg, color-mix(in srgb, var(--card) 92%, white), color-mix(in srgb, var(--chip) 60%, var(--card)));
      box-shadow:var(--shadow);overflow:hidden;
    }
    .heroGrid{display:grid;grid-template-columns:1.2fr .8fr}
    @media(max-width:900px){.heroGrid{grid-template-columns:1fr}}
    .heroMain{padding:22px}
    .heroMain h2{margin:0 0 8px;color:var(--blue);font-size:28px;line-height:1.12}
    body.dark .heroMain h2{color:color-mix(in srgb, var(--blue2) 70%, white)}
    .heroMain p{margin:0 0 14px;color:var(--muted);font-weight:700;line-height:1.65}
    .heroSide{padding:18px;border-left:1px solid var(--line);background:color-mix(in srgb, var(--card) 75%, transparent)}
    @media(max-width:900px){.heroSide{border-left:none;border-top:1px solid var(--line)}}

    .miniCard{
      border:1px solid var(--line);border-radius:16px;background:var(--card);
      padding:14px;box-shadow:0 6px 16px rgba(2,6,23,.06)
    }
    body.dark .miniCard{box-shadow:none}
    .miniCard h3{margin:0 0 10px;font-size:14px;color:var(--blue)}
    body.dark .miniCard h3{color:color-mix(in srgb, var(--blue2) 70%, white)}
    .miniCard ul{margin:0;padding-left:18px;color:var(--muted);font-weight:750;line-height:1.7}

    .section{margin-top:22px}
    .sectionHead{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px}
    .sectionHead h3{margin:0;font-size:20px;color:var(--text)}
    .sectionHead p{margin:0;color:var(--muted);font-weight:750}

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:18px;
      padding:16px;
      box-shadow:0 6px 18px rgba(2,6,23,.06);
      cursor:pointer;
      transition:.16s;
      display:flex;gap:12px;align-items:flex-start;
    }
    body.dark .card{box-shadow:none}
    .card:hover{transform:translateY(-3px);box-shadow:0 12px 26px rgba(2,6,23,.10)}
    body.dark .card:hover{box-shadow:none}
    .iconBox{
      width:46px;height:46px;border-radius:14px;
      background:linear-gradient(135deg, color-mix(in srgb, var(--blue2) 16%, transparent), color-mix(in srgb, var(--blue) 8%, transparent));
      border:1px solid var(--line);
      display:grid;place-items:center;flex:0 0 auto;
    }
    .card h4{margin:0;color:var(--blue);font-size:15px}
    body.dark .card h4{color:color-mix(in srgb, var(--blue2) 70%, white)}
    .card p{margin:6px 0 0;color:var(--muted);font-weight:750;font-size:13px;line-height:1.5}

    .note{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      color:var(--muted);
      font-weight:750;
      line-height:1.6;
    }

    .subgrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
    .infoCard{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:18px;
      padding:14px;
    }
    .infoCard b{display:block;font-size:14px;margin-bottom:6px}
    .infoCard ul{margin:0;padding-left:18px;color:var(--muted);font-weight:750;line-height:1.7}
    .infoCard .kpiRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .kpi{
      border:1px solid var(--line);
      background:color-mix(in srgb, var(--chip) 55%, var(--card));
      border-radius:14px;
      padding:10px 12px;
      font-weight:950;
      font-size:12px;
      color:var(--muted);
      display:flex;align-items:center;gap:8px;
    }
    .dot{width:10px;height:10px;border-radius:99px;background:var(--ok)}
    .dot.warn{background:var(--warn)}
    .dot.bad{background:var(--bad)}

    .list{
      display:grid;gap:10px;
      margin-top:10px;
    }
    .rowItem{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      display:flex;justify-content:space-between;gap:10px;align-items:flex-start;
    }
    .rowItem b{display:block}
    .rowItem small{display:block;color:var(--muted);font-weight:750;margin-top:4px;line-height:1.5}
    .status{
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 10px;
      font-weight:950;
      font-size:12px;
      color:var(--muted);
      background:transparent;
      white-space:nowrap;
    }

    .page{display:none}
    .page.active{display:block}

    .breadcrumbs{
      display:flex;align-items:center;gap:10px;color:var(--muted);
      font-weight:900;font-size:13px;margin:8px 0 14px;
    }
    .breadcrumbs a{color:var(--blue);text-decoration:none}

    .footer{
      margin-top:24px;padding:18px 0;border-top:1px solid var(--line);
      color:var(--muted);font-weight:750;font-size:12px;
    }

    /* Modal (AI Support) */
    .modalBackdrop{
      position:fixed;inset:0;background:rgba(2,6,23,.55);
      display:none;align-items:center;justify-content:center;z-index:200;
      padding:16px;
    }
    .modal{
      width:min(720px, 100%);
      background:var(--card);
      border:1px solid var(--line);
      border-radius:20px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .modalHead{
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      background:color-mix(in srgb, var(--chip) 55%, var(--card));
      font-weight:950;
    }
    .modalBody{padding:14px}
    .chat{
      border:1px solid var(--line);
      border-radius:16px;
      background:color-mix(in srgb, var(--chip) 40%, var(--card));
      padding:12px;
      max-height:320px;
      overflow:auto;
      display:grid;gap:10px;
    }
    .msg{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:14px;
      padding:10px 12px;
      width:fit-content;
      max-width:85%;
      font-weight:750;
      color:var(--text);
      line-height:1.55;
    }
    .msg.me{margin-left:auto;border-color:color-mix(in srgb, var(--blue2) 35%, var(--line))}
    .msg.bot{border-color:color-mix(in srgb, var(--ok) 35%, var(--line))}
    .chatRow{display:flex;gap:10px;margin-top:10px}
    .chatRow input{flex:1}

    /* RTL support (Arabic) */
    [dir="rtl"] .topbar{flex-direction:row-reverse}
    [dir="rtl"] .brand{flex-direction:row-reverse}
    [dir="rtl"] .account{flex-direction:row-reverse}
    [dir="rtl"] .heroGrid{direction:rtl}
    [dir="rtl"] .heroSide{border-left:none;border-right:1px solid var(--line)}
    @media(max-width:900px){[dir="rtl"] .heroSide{border-right:none;border-top:1px solid var(--line)}}
    [dir="rtl"] .breadcrumbs{flex-direction:row-reverse}
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="uLogo" aria-label="Lobachevsky University logo">
          <!-- Embedded logo-like SVG -->
          <svg viewBox="0 0 64 64" width="44" height="44" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop stop-color="#1e40af"/>
                <stop offset="1" stop-color="#2563eb"/>
              </linearGradient>
            </defs>
            <rect width="64" height="64" rx="14" fill="white"/>
            <path d="M14 46V20h8l10 12 10-12h8v26h-8V33L32 43 22 33v13z" fill="url(#g)"/>
            <rect x="14" y="50" width="36" height="4" rx="2" fill="#1e40af" opacity=".25"/>
          </svg>
        </div>
        <div>
          <h1 id="t_brandTitle">UniGuide</h1>
          <small id="t_brandSub">Lobachevsky University ‚Äî New Student Guide</small>
        </div>
      </div>

      <div class="account">
        <div class="avatar">
          <img src="https://via.placeholder.com/80" alt="Student profile" width="42" height="42"/>
        </div>
        <div class="accText">
          <div><b id="t_studentName">Student:</b> <span id="studentNameVal">Alex Johnson</span></div>
          <div><b id="t_studentId">ID:</b> <span id="studentIdVal">20251234</span></div>
        </div>

        <span class="pill" id="t_dummyBadge">Dummy Account</span>

        <div class="controls">
          <input class="input" id="searchBox" type="search" placeholder="Search (Visa, Courses, Housing...)">
          <select id="langSelect" aria-label="Language">
            <option value="en" selected>English</option>
            <option value="ar">Arabic</option>
            <option value="zh">Chinese</option>
            <option value="es">Spanish</option>
            <option value="ru">Russian</option>
          </select>
          <button class="iconBtn" onclick="toggleDark()" id="t_darkBtn">üåô Dark</button>
          <button class="iconBtn" onclick="openAiModal()" id="t_aiBtnTop">ü§ñ AI Support</button>
        </div>
      </div>
    </div>

    <div class="nav" id="topNav">
      <a href="javascript:void(0)" class="active" onclick="go('home');setActiveNav('home')" id="nav_home">Home</a>
      <a href="javascript:void(0)" onclick="go('visa');setActiveNav('visa')" id="nav_visa">Visa</a>
      <a href="javascript:void(0)" onclick="go('medical');setActiveNav('medical')" id="nav_medical">Medical</a>
      <a href="javascript:void(0)" onclick="go('courses');setActiveNav('courses')" id="nav_courses">Courses</a>
      <a href="javascript:void(0)" onclick="go('pending');setActiveNav('pending')" id="nav_pending">Pending</a>
      <a href="javascript:void(0)" onclick="go('residence');setActiveNav('residence')" id="nav_residence">Residence</a>
      <a href="javascript:void(0)" onclick="go('housing');setActiveNav('housing')" id="nav_housing">Housing</a>
    </div>
  </div>
</header>

<div class="wrap">

  <!-- HOME -->
  <section class="page active" id="page-home">
    <div class="hero">
      <div class="heroGrid">
        <div class="heroMain">
          <h2 id="t_homeTitle">Welcome to UniGuide</h2>
          <p id="t_homeDesc">
            UniGuide helps new students understand the most important university steps when joining Lobachevsky University.
            Choose a section below to see clear guidance.
          </p>
          <div class="note" id="t_homeNote">
            This is a student project demo. All data is placeholder and written in a student-friendly style.
          </div>
        </div>

        <div class="heroSide">
          <div class="miniCard">
            <h3 id="t_quickTitle">Quick Checklist</h3>
            <ul>
              <li id="t_quick1">Prepare your key documents (passport/ID, enrollment confirmation).</li>
              <li id="t_quick2">Complete required medical check-ups if needed.</li>
              <li id="t_quick3">Register courses and confirm your schedule.</li>
              <li id="t_quick4">Check housing/residence options early.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="sectionHead">
        <div>
          <h3 id="t_sectionsTitle">Main Sections</h3>
          <p id="t_sectionsSub">Simple icons, clean layout, and clear steps.</p>
        </div>
      </div>

      <div class="grid" id="mainCards">
        <!-- Visa -->
        <div class="card" data-search="visa invitation extension documents support" onclick="go('visa');setActiveNav('visa')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="6" y="3" width="12" height="18" rx="2"></rect>
              <path d="M9 7h6"></path>
              <circle cx="12" cy="13" r="2.2"></circle>
              <path d="M10 18h4"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_visa">Visa</h4>
            <p id="t_visaDesc">Visa services and guidance for international students.</p>
          </div>
        </div>

        <!-- Medical -->
        <div class="card" data-search="medical checkup health clinic insurance" onclick="go('medical');setActiveNav('medical')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 9c0 6-8 12-8 12S4 15 4 9a4 4 0 0 1 8-1 4 4 0 0 1 8 1z"></path>
              <path d="M12 8v6"></path>
              <path d="M9 11h6"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_medical">Medical Check-ups</h4>
            <p id="t_medicalDesc">Health requirements, medical reports, and clinic steps.</p>
          </div>
        </div>

        <!-- Courses -->
        <div class="card" data-search="courses registration schedule timetable credits" onclick="go('courses');setActiveNav('courses')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 5h16"></path>
              <path d="M4 9h16"></path>
              <path d="M4 13h10"></path>
              <path d="M4 17h10"></path>
              <path d="M16 13l4 4"></path>
              <path d="M20 13l-4 4"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_courses">Courses</h4>
            <p id="t_coursesDesc">Course registration, schedules, and study planning.</p>
          </div>
        </div>

        <!-- Pending Orders -->
        <div class="card" data-search="pending orders requests approval ticket" onclick="go('pending');setActiveNav('pending')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="5" y="3" width="14" height="18" rx="2"></rect>
              <path d="M8 7h8"></path>
              <path d="M8 11h6"></path>
              <path d="M8 15h8"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_pending">Pending Orders</h4>
            <p id="t_pendingDesc">Track unfinished requests (forms, approvals, tickets).</p>
          </div>
        </div>

        <!-- Residence -->
        <div class="card" data-search="residence dormitory campus check-in rules" onclick="go('residence');setActiveNav('residence')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 21h18"></path>
              <path d="M6 21V8l6-4 6 4v13"></path>
              <path d="M9 21v-6h6v6"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_residence">University Residence</h4>
            <p id="t_residenceDesc">On-campus dorm rules, check-in steps, and support.</p>
          </div>
        </div>

        <!-- Housing -->
        <div class="card" data-search="housing off-campus rent apartment contract" onclick="go('housing');setActiveNav('housing')">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 10l9-7 9 7"></path>
              <path d="M5 10v11h14V10"></path>
              <path d="M9 21v-6h6v6"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_housing">Student Housing</h4>
            <p id="t_housingDesc">Off-campus housing basics and practical suggestions.</p>
          </div>
        </div>

        <!-- AI Support -->
        <div class="card" data-search="ai support help questions" onclick="openAiModal()">
          <div class="iconBox" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2a4 4 0 0 1 4 4v1h1a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3h-1v1a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3v-1H5a3 3 0 0 1-3-3v-5a3 3 0 0 1 3-3h1V6a4 4 0 0 1 4-4z"></path>
              <path d="M8 10h.01"></path>
              <path d="M16 10h.01"></path>
              <path d="M9 14c1 .9 2 .9 3 .9s2 0 3-.9"></path>
            </svg>
          </div>
          <div>
            <h4 id="t_ai">AI Support</h4>
            <p id="t_aiDesc">Ask support questions and get clear answers (demo chat).</p>
          </div>
        </div>
      </div>

      <div style="margin-top:14px" class="note" id="t_noteHome2">
        Tip: Use the search box at the top to quickly find a section (e.g., "visa", "housing", "courses").
      </div>

      <div class="footer" id="t_footerHome">
        ¬© 2025 UniGuide ‚Äî Lobachevsky University (Demo Website). All data shown is placeholder.
      </div>
    </div>
  </section>

  <!-- VISA -->
  <section class="page" id="page-visa">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_visaBreadcrumb">Visa</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_visaTitle">Visa Services</h3>
        <p id="t_visaSub">Choose a topic below for clear, student-friendly guidance.</p>
      </div>
    </div>

    <div class="grid">
      <div class="card" onclick="toast('visaExt')" data-search="visa extension renew">
        <div class="iconBox" aria-hidden="true">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12a9 9 0 1 1-3-6.7"></path>
            <path d="M21 3v6h-6"></path>
          </svg>
        </div>
        <div>
          <h4 id="t_visaExt">Visa Extension</h4>
          <p id="t_visaExtDesc">When and how to extend your student visa.</p>
        </div>
      </div>

      <div class="card" onclick="toast('reqDocs')" data-search="required documents checklist">
        <div class="iconBox" aria-hidden="true">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <path d="M14 2v6h6"></path>
            <path d="M8 13h8"></path>
            <path d="M8 17h8"></path>
          </svg>
        </div>
        <div>
          <h4 id="t_reqDocs">Required Documents</h4>
          <p id="t_reqDocsDesc">Checklist of documents for visa procedures.</p>
        </div>
      </div>

      <div class="card" onclick="toast('invite')" data-search="university invitation letter">
        <div class="iconBox" aria-hidden="true">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 4h16v16H4z"></path>
            <path d="M4 7l8 6 8-6"></path>
          </svg>
        </div>
        <div>
          <h4 id="t_invite">University Invitation</h4>
          <p id="t_inviteDesc">Request or download your invitation letter (if applicable).</p>
        </div>
      </div>

      <div class="card" onclick="toast('visaSupport')" data-search="support contact help">
        <div class="iconBox" aria-hidden="true">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a4 4 0 0 1-4 4H8l-5 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"></path>
            <path d="M8 9h8"></path>
            <path d="M8 13h6"></path>
          </svg>
        </div>
        <div>
          <h4 id="t_visaSupport">Visa Support</h4>
          <p id="t_visaSupportDesc">Where to ask for help and how to contact support.</p>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="subgrid">
        <div class="infoCard">
          <b id="t_visaStepsTitle">Recommended Steps (Simple)</b>
          <ul id="t_visaStepsList">
            <li>Check your visa expiration date early.</li>
            <li>Prepare copies of passport, migration card, and registration.</li>
            <li>Visit the International Office if you need confirmation.</li>
            <li>Keep digital backups of every document.</li>
          </ul>
          <div class="kpiRow">
            <span class="kpi"><span class="dot warn"></span><span id="t_visaKpi1">Start 30 days before expiry</span></span>
            <span class="kpi"><span class="dot"></span><span id="t_visaKpi2">Keep copies of everything</span></span>
          </div>
        </div>

        <div class="infoCard">
          <b id="t_visaContactsTitle">Contacts (Demo)</b>
          <ul id="t_visaContactsList">
            <li>International Office Email: uniguide.demo@unn.ru</li>
            <li>Office Hours: 09:00‚Äì17:00</li>
            <li>Location: Student Affairs Building</li>
          </ul>
          <div class="kpiRow">
            <span class="kpi"><span class="dot"></span><span id="t_visaKpi3">Ask early, avoid stress</span></span>
          </div>
        </div>
      </div>
    </div>

    <div class="footer" id="t_footerVisa">
      ¬© 2025 UniGuide ‚Äî Visa Section (Demo). Content is simplified for student clarity.
    </div>
  </section>

  <!-- MEDICAL -->
  <section class="page" id="page-medical">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome2">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_medBreadcrumb">Medical Check-ups</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_medTitle">Medical Check-ups</h3>
        <p id="t_medSub">A clear overview of common medical steps for new students.</p>
      </div>
    </div>

    <div class="subgrid">
      <div class="infoCard">
        <b id="t_medWhatTitle">What you may need</b>
        <ul id="t_medWhatList">
          <li>Basic check-up or vaccination proof (if required).</li>
          <li>Health insurance details (if applicable).</li>
          <li>Clinic appointment confirmation.</li>
        </ul>
        <div class="kpiRow">
          <span class="kpi"><span class="dot warn"></span><span id="t_medKpi1">Bring ID and papers</span></span>
          <span class="kpi"><span class="dot"></span><span id="t_medKpi2">Keep scanned copies</span></span>
        </div>
      </div>

      <div class="infoCard">
        <b id="t_medStepsTitle">Simple steps</b>
        <ul id="t_medStepsList">
          <li>Check if your faculty requires a medical certificate.</li>
          <li>Book an appointment (university clinic or partner clinic).</li>
          <li>Upload/save the result in your documents folder.</li>
          <li>If you have questions, use AI Support.</li>
        </ul>
      </div>
    </div>

    <div class="footer" id="t_footerMed">
      ¬© 2025 UniGuide ‚Äî Medical Section (Demo).
    </div>
  </section>

  <!-- COURSES -->
  <section class="page" id="page-courses">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome3">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_courseBreadcrumb">Courses</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_courseTitle">Courses</h3>
        <p id="t_courseSub">Register your courses and confirm your study plan.</p>
      </div>
    </div>

    <div class="subgrid">
      <div class="infoCard">
        <b id="t_courseGuideTitle">Beginner guide</b>
        <ul id="t_courseGuideList">
          <li>Check your program curriculum (required vs elective courses).</li>
          <li>Confirm credits and prerequisites.</li>
          <li>Make a weekly schedule you can follow.</li>
        </ul>
        <div class="kpiRow">
          <span class="kpi"><span class="dot"></span><span id="t_courseKpi1">Plan your week</span></span>
          <span class="kpi"><span class="dot warn"></span><span id="t_courseKpi2">Watch registration deadline</span></span>
        </div>
      </div>

      <div class="infoCard">
        <b id="t_courseExampleTitle">Example schedule (Demo)</b>
        <div class="list" id="courseList">
          <div class="rowItem">
            <div>
              <b>Calculus I</b>
              <small>Mon/Wed 10:00 ‚Ä¢ Room B-204</small>
            </div>
            <span class="status">Registered</span>
          </div>
          <div class="rowItem">
            <div>
              <b>Academic English</b>
              <small>Tue/Thu 12:00 ‚Ä¢ Room C-101</small>
            </div>
            <span class="status">Registered</span>
          </div>
          <div class="rowItem">
            <div>
              <b>Computer Science Basics</b>
              <small>Fri 09:00 ‚Ä¢ Lab L-12</small>
            </div>
            <span class="status">Pending</span>
          </div>
        </div>
      </div>
    </div>

    <div class="footer" id="t_footerCourses">¬© 2025 UniGuide ‚Äî Courses Section (Demo).</div>
  </section>

  <!-- PENDING -->
  <section class="page" id="page-pending">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome4">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_pendingBreadcrumb">Pending Orders</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_pendingTitle">Pending Orders</h3>
        <p id="t_pendingSub">Track unfinished requests and avoid missing steps.</p>
      </div>
    </div>

    <div class="subgrid">
      <div class="infoCard">
        <b id="t_pendingListTitle">Your current requests (Demo)</b>
        <div class="list">
          <div class="rowItem">
            <div>
              <b id="t_p1">Dormitory application</b>
              <small id="t_p1s">Waiting for approval ‚Ä¢ Submitted: 2025-12-20</small>
            </div>
            <span class="status">Pending</span>
          </div>
          <div class="rowItem">
            <div>
              <b id="t_p2">Student card request</b>
              <small id="t_p2s">Need photo upload ‚Ä¢ Created: 2025-12-22</small>
            </div>
            <span class="status">Action Needed</span>
          </div>
          <div class="rowItem">
            <div>
              <b id="t_p3">Course registration change</b>
              <small id="t_p3s">Advisor review ‚Ä¢ Updated: 2025-12-23</small>
            </div>
            <span class="status">In Review</span>
          </div>
        </div>
      </div>

      <div class="infoCard">
        <b id="t_pendingTipsTitle">Helpful tips</b>
        <ul id="t_pendingTipsList">
          <li>Open each request and check required documents.</li>
          <li>If it says ‚ÄúAction Needed‚Äù, do it today.</li>
          <li>Use AI Support if you don‚Äôt understand a requirement.</li>
        </ul>
      </div>
    </div>

    <div class="footer" id="t_footerPending">¬© 2025 UniGuide ‚Äî Pending Orders (Demo).</div>
  </section>

  <!-- RESIDENCE -->
  <section class="page" id="page-residence">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome5">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_resBreadcrumb">University Residence</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_resTitle">University Residence</h3>
        <p id="t_resSub">On-campus dorm information and check-in steps (demo).</p>
      </div>
    </div>

    <div class="subgrid">
      <div class="infoCard">
        <b id="t_resStepsTitle">Check-in steps</b>
        <ul id="t_resStepsList">
          <li>Confirm your assignment and check-in date.</li>
          <li>Prepare ID + acceptance + payment receipt (if any).</li>
          <li>Read dorm rules (quiet hours, guest policy).</li>
          <li>Report issues to the dorm supervisor.</li>
        </ul>
      </div>
      <div class="infoCard">
        <b id="t_resRulesTitle">Basic rules (example)</b>
        <ul id="t_resRulesList">
          <li>Keep your room clean and safe.</li>
          <li>Respect quiet hours at night.</li>
          <li>Guests must follow the dorm policy.</li>
        </ul>
        <div class="kpiRow">
          <span class="kpi"><span class="dot"></span><span id="t_resKpi1">Safety first</span></span>
          <span class="kpi"><span class="dot warn"></span><span id="t_resKpi2">Keep your documents ready</span></span>
        </div>
      </div>
    </div>

    <div class="footer" id="t_footerRes">¬© 2025 UniGuide ‚Äî Residence (Demo).</div>
  </section>

  <!-- HOUSING -->
  <section class="page" id="page-housing">
    <div class="breadcrumbs">
      <a href="javascript:void(0)" onclick="go('home');setActiveNav('home')" id="t_backHome6">‚Üê Back to Home</a>
      <span>‚Ä¢</span>
      <span id="t_houseBreadcrumb">Student Housing</span>
    </div>

    <div class="sectionHead">
      <div>
        <h3 id="t_houseTitle">Student Housing</h3>
        <p id="t_houseSub">Off-campus housing basics and a simple checklist.</p>
      </div>
    </div>

    <div class="subgrid">
      <div class="infoCard">
        <b id="t_houseChecklistTitle">Checklist before renting</b>
        <ul id="t_houseChecklistList">
          <li>Ask about monthly rent + utilities.</li>
          <li>Check contract terms and deposit rules.</li>
          <li>Confirm internet and transport access.</li>
          <li>Never pay without a clear agreement.</li>
        </ul>
        <div class="kpiRow">
          <span class="kpi"><span class="dot bad"></span><span id="t_houseKpi1">Avoid scams</span></span>
          <span class="kpi"><span class="dot"></span><span id="t_houseKpi2">Read the contract</span></span>
        </div>
      </div>

      <div class="infoCard">
        <b id="t_houseExampleTitle">Example options (Demo)</b>
        <div class="list">
          <div class="rowItem">
            <div>
              <b id="t_h1">Shared apartment near campus</b>
              <small id="t_h1s">Good for budget ‚Ä¢ 25‚Äì35 min by bus</small>
            </div>
            <span class="status">Info</span>
          </div>
          <div class="rowItem">
            <div>
              <b id="t_h2">Studio apartment (city center)</b>
              <small id="t_h2s">More expensive ‚Ä¢ Faster transport</small>
            </div>
            <span class="status">Info</span>
          </div>
        </div>
      </div>
    </div>

    <div class="footer" id="t_footerHouse">¬© 2025 UniGuide ‚Äî Housing (Demo).</div>
  </section>

</div>

<!-- AI MODAL -->
<div class="modalBackdrop" id="aiBackdrop" onclick="closeAiModal(event)">
  <div class="modal" role="dialog" aria-modal="true" aria-label="AI Support" onclick="event.stopPropagation()">
    <div class="modalHead">
      <div id="t_aiModalTitle">AI Support (Demo)</div>
      <button class="iconBtn" onclick="closeAiModal()" id="t_closeBtn">‚úï Close</button>
    </div>
    <div class="modalBody">
      <div class="note" id="t_aiModalNote">
        This is a demo assistant. Ask simple questions like ‚ÄúWhat documents do I need for visa extension?‚Äù or ‚ÄúHow do I register courses?‚Äù
      </div>

      <div style="height:10px"></div>

      <div class="chat" id="chatBox" aria-label="Chat messages"></div>

      <div class="chatRow">
        <input class="input" id="chatInput" placeholder="Type your question..." />
        <button class="iconBtn" onclick="sendChat()" id="t_sendBtn">Send</button>
      </div>
    </div>
  </div>
</div>

<script>
  // ---------- Routing ----------
  const pages = ["home","visa","medical","courses","pending","residence","housing"];

  function go(page){
    pages.forEach(p=>{
      const el = document.getElementById("page-"+p);
      if(el) el.classList.toggle("active", p===page);
    });
    location.hash = page;
    // scroll to top for "page feeling"
    window.scrollTo({top:0, behavior:"smooth"});
  }

  function setActiveNav(page){
    const map = {
      home:"nav_home",
      visa:"nav_visa",
      medical:"nav_medical",
      courses:"nav_courses",
      pending:"nav_pending",
      residence:"nav_residence",
      housing:"nav_housing",
    };
    Object.values(map).forEach(id=>{
      const a = document.getElementById(id);
      if(a) a.classList.remove("active");
    });
    const activeId = map[page];
    if(activeId) document.getElementById(activeId).classList.add("active");
  }

  // initial hash
  const initial = (location.hash || "#home").replace("#","");
  if(pages.includes(initial)){
    go(initial);
    setActiveNav(initial);
  }

  // ---------- Search filter (home cards) ----------
  const searchBox = document.getElementById("searchBox");
  searchBox.addEventListener("input", ()=>{
    const q = searchBox.value.trim().toLowerCase();
    const cards = document.querySelectorAll("#mainCards .card");
    cards.forEach(c=>{
      const text = (c.innerText + " " + (c.getAttribute("data-search")||"")).toLowerCase();
      c.style.display = text.includes(q) ? "flex" : "none";
    });
  });

  // ---------- Dark mode ----------
  const DARK_KEY = "uniguide_dark";
  function applyDark(on){
    document.body.classList.toggle("dark", !!on);
    localStorage.setItem(DARK_KEY, on ? "1" : "0");
    // button label updates via language apply
    applyLang(document.getElementById("langSelect").value);
  }
  function toggleDark(){
    const on = !document.body.classList.contains("dark");
    applyDark(on);
  }
  applyDark(localStorage.getItem(DARK_KEY)==="1");

  // ---------- AI Support modal + demo chat ----------
  const aiBackdrop = document.getElementById("aiBackdrop");
  const chatBox = document.getElementById("chatBox");
  const chatInput = document.getElementById("chatInput");

  function openAiModal(){
    aiBackdrop.style.display = "flex";
    if(chatBox.childElementCount === 0){
      addBotMsg(getText("aiHello"));
      addBotMsg(getText("aiExamples"));
    }
    setTimeout(()=>chatInput.focus(), 50);
  }
  function closeAiModal(ev){
    aiBackdrop.style.display = "none";
  }
  function addMsg(text, who="bot"){
    const div = document.createElement("div");
    div.className = "msg " + (who==="me" ? "me" : "bot");
    div.textContent = text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
  }
  function addBotMsg(t){ addMsg(t,"bot"); }
  function addMeMsg(t){ addMsg(t,"me"); }

  function sendChat(){
    const q = chatInput.value.trim();
    if(!q) return;
    addMeMsg(q);
    chatInput.value = "";

    // Simple rule-based demo answers
    const low = q.toLowerCase();
    let ans = getText("aiDefault");

    if(low.includes("visa") && (low.includes("extend") || low.includes("extension") || low.includes("renew"))){
      ans = getText("aiVisaExt");
    } else if(low.includes("visa") && (low.includes("document") || low.includes("required"))){
      ans = getText("aiVisaDocs");
    } else if(low.includes("course") || low.includes("register") || low.includes("schedule")){
      ans = getText("aiCourses");
    } else if(low.includes("medical") || low.includes("check") || low.includes("insurance")){
      ans = getText("aiMedical");
    } else if(low.includes("dorm") || low.includes("residence") || low.includes("hostel")){
      ans = getText("aiResidence");
    } else if(low.includes("housing") || low.includes("rent") || low.includes("apartment")){
      ans = getText("aiHousing");
    } else if(low.includes("pending") || low.includes("request") || low.includes("order")){
      ans = getText("aiPending");
    }

    setTimeout(()=>addBotMsg(ans), 450);
  }

  chatInput.addEventListener("keydown",(e)=>{
    if(e.key==="Enter") sendChat();
  });

  // ---------- ‚ÄúToast‚Äù replacement (placeholder pages) ----------
  function toast(key){
    // key is used for translated modal messages
    alert(getText("placeholderTitle") + "\n\n" + getText(key) + "\n\n" + getText("placeholderNote"));
  }

  // ---------- Multi-language ----------
  const T = {
    en: {
      dir:"ltr",
      brandTitle:"UniGuide",
      brandSub:"Lobachevsky University ‚Äî New Student Guide",
      studentName:"Student:",
      studentId:"ID:",
      dummyBadge:"Dummy Account",
      searchPh:"Search (Visa, Courses, Housing...)",
      darkBtnDark:"üåô Dark",
      darkBtnLight:"‚òÄÔ∏è Light",
      aiTop:"ü§ñ AI Support",

      nav_home:"Home",
      nav_visa:"Visa",
      nav_medical:"Medical",
      nav_courses:"Courses",
      nav_pending:"Pending",
      nav_residence:"Residence",
      nav_housing:"Housing",

      homeTitle:"Welcome to UniGuide",
      homeDesc:"UniGuide helps new students understand the most important university steps when joining Lobachevsky University. Choose a section below to see clear guidance.",
      homeNote:"This is a student project demo. All data is placeholder and written in a student-friendly style.",
      quickTitle:"Quick Checklist",
      quick1:"Prepare your key documents (passport/ID, enrollment confirmation).",
      quick2:"Complete required medical check-ups if needed.",
      quick3:"Register courses and confirm your schedule.",
      quick4:"Check housing/residence options early.",
      sectionsTitle:"Main Sections",
      sectionsSub:"Simple icons, clean layout, and clear steps.",

      visa:"Visa", visaDesc:"Visa services and guidance for international students.",
      medical:"Medical Check-ups", medicalDesc:"Health requirements, medical reports, and clinic steps.",
      courses:"Courses", coursesDesc:"Course registration, schedules, and study planning.",
      pending:"Pending Orders", pendingDesc:"Track unfinished requests (forms, approvals, tickets).",
      residence:"University Residence", residenceDesc:"On-campus dorm rules, check-in steps, and support.",
      housing:"Student Housing", housingDesc:"Off-campus housing basics and practical suggestions.",
      ai:"AI Support", aiDesc:"Ask support questions and get clear answers (demo chat).",

      noteHome2:"Tip: Use the search box at the top to quickly find a section (e.g., \"visa\", \"housing\", \"courses\").",
      footerHome:"¬© 2025 UniGuide ‚Äî Lobachevsky University (Demo Website). All data shown is placeholder.",

      backHome:"‚Üê Back to Home",
      backHome2:"‚Üê Back to Home",
      backHome3:"‚Üê Back to Home",
      backHome4:"‚Üê Back to Home",
      backHome5:"‚Üê Back to Home",
      backHome6:"‚Üê Back to Home",

      visaBreadcrumb:"Visa",
      visaTitle:"Visa Services",
      visaSub:"Choose a topic below for clear, student-friendly guidance.",
      visaExt:"Visa Extension",
      visaExtDesc:"When and how to extend your student visa.",
      reqDocs:"Required Documents",
      reqDocsDesc:"Checklist of documents for visa procedures.",
      invite:"University Invitation",
      inviteDesc:"Request or download your invitation letter (if applicable).",
      visaSupport:"Visa Support",
      visaSupportDesc:"Where to ask for help and how to contact support.",

      visaStepsTitle:"Recommended Steps (Simple)",
      visaContactsTitle:"Contacts (Demo)",
      visaKpi1:"Start 30 days before expiry",
      visaKpi2:"Keep copies of everything",
      visaKpi3:"Ask early, avoid stress",
      footerVisa:"¬© 2025 UniGuide ‚Äî Visa Section (Demo). Content is simplified for student clarity.",

      medBreadcrumb:"Medical Check-ups",
      medTitle:"Medical Check-ups",
      medSub:"A clear overview of common medical steps for new students.",
      medWhatTitle:"What you may need",
      medStepsTitle:"Simple steps",
      medKpi1:"Bring ID and papers",
      medKpi2:"Keep scanned copies",
      footerMed:"¬© 2025 UniGuide ‚Äî Medical Section (Demo).",

      courseBreadcrumb:"Courses",
      courseTitle:"Courses",
      courseSub:"Register your courses and confirm your study plan.",
      courseGuideTitle:"Beginner guide",
      courseExampleTitle:"Example schedule (Demo)",
      courseKpi1:"Plan your week",
      courseKpi2:"Watch registration deadline",
      footerCourses:"¬© 2025 UniGuide ‚Äî Courses Section (Demo).",

      pendingBreadcrumb:"Pending Orders",
      pendingTitle:"Pending Orders",
      pendingSub:"Track unfinished requests and avoid missing steps.",
      pendingListTitle:"Your current requests (Demo)",
      pendingTipsTitle:"Helpful tips",
      footerPending:"¬© 2025 UniGuide ‚Äî Pending Orders (Demo).",

      resBreadcrumb:"University Residence",
      resTitle:"University Residence",
      resSub:"On-campus dorm information and check-in steps (demo).",
      resStepsTitle:"Check-in steps",
      resRulesTitle:"Basic rules (example)",
      resKpi1:"Safety first",
      resKpi2:"Keep your documents ready",
      footerRes:"¬© 2025 UniGuide ‚Äî Residence (Demo).",

      houseBreadcrumb:"Student Housing",
      houseTitle:"Student Housing",
      houseSub:"Off-campus housing basics and a simple checklist.",
      houseChecklistTitle:"Checklist before renting",
      houseExampleTitle:"Example options (Demo)",
      houseKpi1:"Avoid scams",
      houseKpi2:"Read the contract",
      footerHouse:"¬© 2025 UniGuide ‚Äî Housing (Demo).",

      // AI Modal
      aiModalTitle:"AI Support (Demo)",
      closeBtn:"‚úï Close",
      sendBtn:"Send",
      aiModalNote:"This is a demo assistant. Ask simple questions like ‚ÄúWhat documents do I need for visa extension?‚Äù or ‚ÄúHow do I register courses?‚Äù",
      aiHello:"Hi! I‚Äôm UniGuide AI Support (demo). How can I help you today?",
      aiExamples:"Examples: visa extension ‚Ä¢ required documents ‚Ä¢ course registration ‚Ä¢ dorm check-in ‚Ä¢ housing checklist.",
      aiDefault:"I can help with visa, medical, courses, pending requests, residence, and housing. Try asking with a keyword.",
      aiVisaExt:"For visa extension: check your expiry date, prepare passport copies + registration, and contact the International Office early. Start ~30 days before expiry.",
      aiVisaDocs:"Common visa documents: passport copy, migration card, registration, invitation/confirmation (if needed), and application forms. Keep digital copies.",
      aiCourses:"For courses: check your curriculum, register required courses first, confirm credits/prerequisites, then build a weekly timetable you can follow.",
      aiMedical:"Medical steps: check faculty requirements, book a clinic appointment, bring ID/insurance documents, and keep a digital scan of the result.",
      aiResidence:"Residence: confirm your check-in date, bring ID + acceptance/payment receipt, review dorm rules, and contact dorm staff for issues.",
      aiHousing:"Housing: verify rent + utilities, read the contract carefully, avoid paying without agreement, and confirm transport/internet access.",
      aiPending:"Pending requests: open each request, check missing documents, handle ‚ÄúAction Needed‚Äù first, and contact the office if it stays pending too long.",

      // Placeholder alert
      placeholderTitle:"UniGuide (Demo)",
      placeholderNote:"This button is a placeholder for the project. In a full system, it would open a detailed page with forms and official links."
    },

    // For other languages: keep the site working.
    // If you want, I can fully translate EVERY new line later.
    ar: { ...this?.T?.en }, // will be overridden below safely
    zh: { ...this?.T?.en },
    es: { ...this?.T?.en },
    ru: { ...this?.T?.en },
  };

  // Properly clone EN for other languages, then override key strings for better feel
  function clone(obj){ return JSON.parse(JSON.stringify(obj)); }
  T.ar = clone(T.en);
  T.zh = clone(T.en);
  T.es = clone(T.en);
  T.ru = clone(T.en);

  // Minimal but useful overrides (so language change is meaningful + readable)
  T.ar.dir="rtl";
  T.ar.brandSub="ÿ¨ÿßŸÖÿπÿ© ŸÑŸàÿ®ÿßÿ™ÿ¥ŸäŸÅÿ≥ŸÉŸä ‚Äî ÿØŸÑŸäŸÑ ÿßŸÑÿ∑ÿßŸÑÿ® ÿßŸÑÿ¨ÿØŸäÿØ";
  T.ar.nav_home="ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"; T.ar.nav_visa="ÿßŸÑÿ™ÿ£ÿ¥Ÿäÿ±ÿ©"; T.ar.nav_medical="ÿßŸÑÿ∑ÿ®"; T.ar.nav_courses="ÿßŸÑŸÖŸÇÿ±ÿ±ÿßÿ™"; T.ar.nav_pending="ÿ∑ŸÑÿ®ÿßÿ™"; T.ar.nav_residence="ÿßŸÑÿ≥ŸÉŸÜ"; T.ar.nav_housing="ÿßŸÑÿ≥ŸÉŸÜ ÿßŸÑÿÆÿßÿ±ÿ¨Ÿä";
  T.ar.homeTitle="ŸÖÿ±ÿ≠ÿ®Ÿãÿß ÿ®ŸÉ ŸÅŸä UniGuide";
  T.ar.aiModalTitle="ÿØÿπŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä (ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä)";
  T.ar.closeBtn="‚úï ÿ•ÿ∫ŸÑÿßŸÇ"; T.ar.sendBtn="ÿ•ÿ±ÿ≥ÿßŸÑ";
  T.ar.searchPh="ÿ®ÿ≠ÿ´ (ÿ™ÿ£ÿ¥Ÿäÿ±ÿ©ÿå ŸÖŸÇÿ±ÿ±ÿßÿ™ÿå ÿ≥ŸÉŸÜ...)";
  T.ar.darkBtnDark="üåô ÿØÿßŸÉŸÜ"; T.ar.darkBtnLight="‚òÄÔ∏è ŸÅÿßÿ™ÿ≠";

  T.zh.brandSub="Ê¥õÂ∑¥ÂàáÂ§´ÊñØÂü∫Â§ßÂ≠¶ ‚Äî Êñ∞ÁîüÊåáÂçó";
  T.zh.nav_home="È¶ñÈ°µ"; T.zh.nav_visa="Á≠æËØÅ"; T.zh.nav_medical="‰ΩìÊ£Ä"; T.zh.nav_courses="ËØæÁ®ã"; T.zh.nav_pending="ÂæÖÂäû"; T.zh.nav_residence="ÂÆøËàç"; T.zh.nav_housing="‰ΩèÊàø";
  T.zh.homeTitle="Ê¨¢Ëøé‰ΩøÁî® UniGuide";
  T.zh.aiModalTitle="AI ÊîØÊåÅÔºàÊºîÁ§∫Ôºâ";
  T.zh.closeBtn="‚úï ÂÖ≥Èó≠"; T.zh.sendBtn="ÂèëÈÄÅ";
  T.zh.searchPh="ÊêúÁ¥¢ÔºàÁ≠æËØÅ„ÄÅËØæÁ®ã„ÄÅ‰ΩèÊàø‚Ä¶Ôºâ";
  T.zh.darkBtnDark="üåô Ê∑±Ëâ≤"; T.zh.darkBtnLight="‚òÄÔ∏è ÊµÖËâ≤";

  T.es.brandSub="Universidad Lobachevsky ‚Äî Gu√≠a para nuevos estudiantes";
  T.es.nav_home="Inicio"; T.es.nav_visa="Visa"; T.es.nav_medical="M√©dico"; T.es.nav_courses="Cursos"; T.es.nav_pending="Pendientes"; T.es.nav_residence="Residencia"; T.es.nav_housing="Vivienda";
  T.es.homeTitle="Bienvenido a UniGuide";
  T.es.aiModalTitle="Soporte de IA (Demo)";
  T.es.closeBtn="‚úï Cerrar"; T.es.sendBtn="Enviar";
  T.es.searchPh="Buscar (Visa, Cursos, Vivienda...)";
  T.es.darkBtnDark="üåô Oscuro"; T.es.darkBtnLight="‚òÄÔ∏è Claro";

  T.ru.brandSub="–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –õ–æ–±–∞—á–µ–≤—Å–∫–æ–≥–æ ‚Äî –ø—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –¥–ª—è –ø–µ—Ä–≤–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤";
  T.ru.nav_home="–ì–ª–∞–≤–Ω–∞—è"; T.ru.nav_visa="–í–∏–∑–∞"; T.ru.nav_medical="–ú–µ–¥"; T.ru.nav_courses="–ö—É—Ä—Å—ã"; T.ru.nav_pending="–ó–∞—è–≤–∫–∏"; T.ru.nav_residence="–û–±—â–µ–∂–∏—Ç–∏–µ"; T.ru.nav_housing="–ñ–∏–ª—å—ë";
  T.ru.homeTitle="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UniGuide";
  T.ru.aiModalTitle="AI –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (–î–µ–º–æ)";
  T.ru.closeBtn="‚úï –ó–∞–∫—Ä—ã—Ç—å"; T.ru.sendBtn="–û—Ç–ø—Ä–∞–≤–∏—Ç—å";
  T.ru.searchPh="–ü–æ–∏—Å–∫ (–≤–∏–∑–∞, –∫—É—Ä—Å—ã, –∂–∏–ª—å—ë...)";
  T.ru.darkBtnDark="üåô –¢—ë–º–Ω–∞—è"; T.ru.darkBtnLight="‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è";

  function getText(key){
    const lang = document.getElementById("langSelect").value;
    const d = T[lang] || T.en;
    return (d && d[key]) ? d[key] : (T.en[key] || key);
  }

  function setText(id, value){
    const el = document.getElementById(id);
    if(el) el.textContent = value;
  }

  function applyLang(lang){
    const d = T[lang] || T.en;
    document.documentElement.setAttribute("dir", d.dir || "ltr");
    document.documentElement.lang = lang;

    // header
    setText("t_brandTitle", d.brandTitle);
    setText("t_brandSub", d.brandSub);
    setText("t_studentName", d.studentName);
    setText("t_studentId", d.studentId);
    setText("t_dummyBadge", d.dummyBadge);
    document.getElementById("searchBox").placeholder = d.searchPh;

    // dark button text depends on state
    const isDark = document.body.classList.contains("dark");
    setText("t_darkBtn", isDark ? d.darkBtnLight : d.darkBtnDark);
    setText("t_aiBtnTop", d.aiTop);

    // nav
    setText("nav_home", d.nav_home);
    setText("nav_visa", d.nav_visa);
    setText("nav_medical", d.nav_medical);
    setText("nav_courses", d.nav_courses);
    setText("nav_pending", d.nav_pending);
    setText("nav_residence", d.nav_residence);
    setText("nav_housing", d.nav_housing);

    // home
    setText("t_homeTitle", d.homeTitle);
    setText("t_homeDesc", d.homeDesc);
    setText("t_homeNote", d.homeNote);
    setText("t_quickTitle", d.quickTitle);
    setText("t_quick1", d.quick1);
    setText("t_quick2", d.quick2);
    setText("t_quick3", d.quick3);
    setText("t_quick4", d.quick4);
    setText("t_sectionsTitle", d.sectionsTitle);
    setText("t_sectionsSub", d.sectionsSub);

    setText("t_visa", d.visa); setText("t_visaDesc", d.visaDesc);
    setText("t_medical", d.medical); setText("t_medicalDesc", d.medicalDesc);
    setText("t_courses", d.courses); setText("t_coursesDesc", d.coursesDesc);
    setText("t_pending", d.pending); setText("t_pendingDesc", d.pendingDesc);
    setText("t_residence", d.residence); setText("t_residenceDesc", d.residenceDesc);
    setText("t_housing", d.housing); setText("t_housingDesc", d.housingDesc);
    setText("t_ai", d.ai); setText("t_aiDesc", d.aiDesc);

    setText("t_noteHome2", d.noteHome2);
    setText("t_footerHome", d.footerHome);

    // visa page
    setText("t_backHome", d.backHome);
    setText("t_visaBreadcrumb", d.visaBreadcrumb);
    setText("t_visaTitle", d.visaTitle);
    setText("t_visaSub", d.visaSub);

    setText("t_visaExt", d.visaExt); setText("t_visaExtDesc", d.visaExtDesc);
    setText("t_reqDocs", d.reqDocs); setText("t_reqDocsDesc", d.reqDocsDesc);
    setText("t_invite", d.invite); setText("t_inviteDesc", d.inviteDesc);
    setText("t_visaSupport", d.visaSupport); setText("t_visaSupportDesc", d.visaSupportDesc);

    setText("t_visaStepsTitle", d.visaStepsTitle);
    setText("t_visaContactsTitle", d.visaContactsTitle);
    setText("t_visaKpi1", d.visaKpi1);
    setText("t_visaKpi2", d.visaKpi2);
    setText("t_visaKpi3", d.visaKpi3);
    setText("t_footerVisa", d.footerVisa);

    // other pages headings
    setText("t_backHome2", d.backHome2);
    setText("t_medBreadcrumb", d.medBreadcrumb);
    setText("t_medTitle", d.medTitle);
    setText("t_medSub", d.medSub);
    setText("t_medWhatTitle", d.medWhatTitle);
    setText("t_medStepsTitle", d.medStepsTitle);
    setText("t_medKpi1", d.medKpi1);
    setText("t_medKpi2", d.medKpi2);
    setText("t_footerMed", d.footerMed);

    setText("t_backHome3", d.backHome3);
    setText("t_courseBreadcrumb", d.courseBreadcrumb);
    setText("t_courseTitle", d.courseTitle);
    setText("t_courseSub", d.courseSub);
    setText("t_courseGuideTitle", d.courseGuideTitle);
    setText("t_courseExampleTitle", d.courseExampleTitle);
    setText("t_courseKpi1", d.courseKpi1);
    setText("t_courseKpi2", d.courseKpi2);
    setText("t_footerCourses", d.footerCourses);

    setText("t_backHome4", d.backHome4);
    setText("t_pendingBreadcrumb", d.pendingBreadcrumb);
    setText("t_pendingTitle", d.pendingTitle);
    setText("t_pendingSub", d.pendingSub);
    setText("t_pendingListTitle", d.pendingListTitle);
    setText("t_pendingTipsTitle", d.pendingTipsTitle);
    setText("t_footerPending", d.footerPending);

    setText("t_backHome5", d.backHome5);
    setText("t_resBreadcrumb", d.resBreadcrumb);
    setText("t_resTitle", d.resTitle);
    setText("t_resSub", d.resSub);
    setText("t_resStepsTitle", d.resStepsTitle);
    setText("t_resRulesTitle", d.resRulesTitle);
    setText("t_resKpi1", d.resKpi1);
    setText("t_resKpi2", d.resKpi2);
    setText("t_footerRes", d.footerRes);

    setText("t_backHome6", d.backHome6);
    setText("t_houseBreadcrumb", d.houseBreadcrumb);
    setText("t_houseTitle", d.houseTitle);
    setText("t_houseSub", d.houseSub);
    setText("t_houseChecklistTitle", d.houseChecklistTitle);
    setText("t_houseExampleTitle", d.houseExampleTitle);
    setText("t_houseKpi1", d.houseKpi1);
    setText("t_houseKpi2", d.houseKpi2);
    setText("t_footerHouse", d.footerHouse);

    // AI modal
    setText("t_aiModalTitle", d.aiModalTitle);
    setText("t_closeBtn", d.closeBtn);
    setText("t_sendBtn", d.sendBtn);
    setText("t_aiModalNote", d.aiModalNote);
    document.getElementById("chatInput").placeholder = "Type your question..."; // keep simple

    localStorage.setItem("uniguide_lang", lang);
  }

  // init language
  const savedLang = localStorage.getItem("uniguide_lang") || "en";
  document.getElementById("langSelect").value = savedLang;
  applyLang(savedLang);

  document.getElementById("langSelect").addEventListener("change", (e)=>{
    applyLang(e.target.value);
  });

  // update labels when toggling theme
  function toggleDark(){
    const on = !document.body.classList.contains("dark");
    applyDark(on);
  }

  // AI modal close via ESC
  document.addEventListener("keydown",(e)=>{
    if(e.key==="Escape" && aiBackdrop.style.display==="flex") closeAiModal();
  });

  // make sure clicking hash updates nav state
  window.addEventListener("hashchange", ()=>{
    const h = (location.hash || "#home").replace("#","");
    if(pages.includes(h)){
      go(h);
      setActiveNav(h);
    }
  });
</script>
</body>
</html>
